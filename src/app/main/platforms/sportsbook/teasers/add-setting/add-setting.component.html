<div mat-dialog-title>
  <span class="title">{{'Settings.AddSetting' | translate}}</span>
  <mat-icon (click)="close()">close</mat-icon>
</div>
<div class="modal-wrap">
  <form class="modal-form" [formGroup]="formGroup">
    <mat-form-field>
      <mat-label>{{'Sport.SelectSport' | translate}}</mat-label>
      <mat-select [formControlName]="'SportId'" #spo (selectionChange)="onSportChange(spo.value)">
        <mat-option [value]='null'>{{'Sport.SelectSport' | translate}}</mat-option>
        <mat-option *ngFor="let sport of sports" [value]="sport.Id">{{sport.Name}}</mat-option>
      </mat-select>
      <mat-error *ngIf="errorControl['SportId']?.touched && errorControl['SportId'].errors?.required">
        {{'Sport.Sport' | translate}} {{'Errors.Required' | translate}}
      </mat-error>
    </mat-form-field>
    <mat-form-field>
      <input matInput type="number" [placeholder]="'Sport.CompetitionId' | translate"
             [formControlName]="'CompetitionId'">
      <mat-error *ngIf="errorControl['CompetitionId']?.touched && errorControl['CompetitionId'].errors?.required">
        {{'Sport.CompetitionId' | translate}} {{'Errors.Required' | translate}}
      </mat-error>
    </mat-form-field>
    <mat-form-field>
      <mat-label>{{'Sport.SelectMarketType' | translate}}</mat-label>
      <mat-select [formControlName]="'MarketTypeId'" [disabled]="!sportId">
        <mat-option *ngFor="let marketType of marketTypes" [value]="marketType.Id">{{marketType.Name}}</mat-option>
      </mat-select>
      <mat-error *ngIf="errorControl['MarketTypeId']?.touched && errorControl['MarketTypeId'].errors?.required">
        {{'Sport.MarketType' | translate}} {{'Errors.Required' | translate}}
      </mat-error>
    </mat-form-field>
    <mat-form-field>
      <input matInput type="number" [placeholder]="'Sport.BasePoint' | translate" [formControlName]="'BasePoint'">
      <mat-error *ngIf="errorControl['BasePoint']?.touched && errorControl['BasePoint'].errors?.required">
        {{'Sport.BasePoint' | translate}} {{'Errors.Required' | translate}}
      </mat-error>
    </mat-form-field>
  </form>

</div>

<div mat-dialog-actions>
  <button class="modal-cancel-btn" (click)="close()">{{'Common.Cancel' | translate}}</button>
  <button 
    class="modal-primary-btn" 
    (click)="submit()"
    [class.disabled]="formGroup.invalid"
    >
    {{'Settings.AddSetting' | translate}}
  </button>
</div>

