<div class="container">
  <form class="grid-edit" [formGroup]="formGroupFixedFee">

    <div class="content-action">
      <div class="title"><a [routerLink]="['../../all-affiliates']">{{'Providers.Affiliates' | translate}}</a> / {{affiliate?.Id}}
        : {{'Fixed Fee Commition'}}</div>
      <button mat-stroked-button class="edit-btn" (click)="isEdit = !isEdit">{{'Common.Edit' | translate}}</button>

    </div>

    <div class="content-edit">

      <div class="grid-edit" [class.can-edit]="isEdit">

        <div>
          <div class="first-hand">{{'Clients.Amount' | translate}}</div>
          <div class="second-hand">{{affiliate?.FixedFeeCommission?.Amount}}</div>
          <div class="form-field form-input">
            <!-- <mat-form-field> -->
              <input matInput  type="number" [formControlName]="'Amount'">
            <!-- </mat-form-field> -->
          </div>
        </div>

        <div>
          <div class="first-hand">{{'Clients.Currency' | translate}}</div>
          <div class="second-hand">{{affiliate?.FixedFeeCommission?.CurrencyId}}</div>
          <div class="form-field form-dropdown">
            <mat-select [formControlName]="'CurrencyId'">
              <mat-option *ngFor="let currency of currencies" [value]="currency.Id">{{currency.Name}}</mat-option>
            </mat-select>
          </div>
        </div>

        <div>
          <div class="first-hand">{{'Clients.TotalDepositAmount' | translate}}</div>
          <div class="second-hand">{{affiliate?.FixedFeeCommission?.TotalDepositAmount}}</div>
          <div class="form-field form-input">
            <!-- <mat-form-field> -->
              <input matInput  type="number" [formControlName]="'TotalDepositAmount'">
            <!-- </mat-form-field> -->
          </div>
        </div>

        <div>
          <div class="first-hand">{{'Clients.RequaredValidation' | translate}}</div>
          <div class="second-hand">{{affiliate?.FixedFeeCommission?.RequireVerification}}</div>
          <div class="form-field form-dropdown">
            <mat-select [formControlName]="'RequireVerification'">
              <mat-option *ngFor="let item of validationState" [value]="item.State">{{item.Name}}</mat-option>
            </mat-select>
          </div>
        </div>
      </div>
    </div>
  </form>

  <form class="grid-edit" [formGroup]="formGroupDeposit">

    <div class="content-action">
      <div class="title">{{'Deposit Commition'}}</div>
    </div>

    <div class="content-edit">
      <div class="grid-edit" [class.can-edit]="isEdit">
        <div>
          <div class="first-hand">{{'Bonuses.Percent' | translate}}</div>
          <div class="second-hand">{{affiliate?.DepositCommission?.Percent}}</div>
          <div class="form-field form-input">
            <!-- <mat-form-field> -->
              <input matInput  type="number" [formControlName]="'Percent'">
            <!-- </mat-form-field> -->
          </div>
        </div>

        <div>
          <div class="first-hand">{{'Clients.Currency' | translate}}</div>
          <div class="second-hand">{{affiliate?.DepositCommission?.CurrencyId}}</div>
          <div class="form-field form-dropdown">
            <mat-select [formControlName]="'CurrencyId'">
              <mat-option *ngFor="let currency of currencies" [value]="currency.Id">{{currency.Name}}</mat-option>
            </mat-select>
          </div>
        </div>

        <div>
          <div class="first-hand">{{'Bonuses.UpToAmount' | translate}}</div>
          <div class="second-hand">{{affiliate?.DepositCommission?.UpToAmount}}</div>
          <div class="form-field form-input">
            <!-- <mat-form-field> -->
              <input matInput  type="number" [formControlName]="'UpToAmount'">
            <!-- </mat-form-field> -->
          </div>
        </div>

        <div>
          <div class="first-hand">{{'Bonuses.DepositCount' | translate}}</div>
          <div class="second-hand">{{affiliate?.DepositCommission?.DepositCount}}</div>
          <div class="form-field form-input">
            <!-- <mat-form-field appearance="none"> -->
              <input matInput  type="number" [formControlName]="'DepositCount'">
            <!-- </mat-form-field> -->
          </div>
        </div>

        <div></div>

        <div class="form-actions">

          <div class="actions" *ngIf = "isEdit">
            <button mat-stroked-button class="mat-cancel-btn" (click)="onCancel()">{{'Common.Cancel' | translate}}</button>
            <button mat-stroked-button class="mat-btn" [class.disabled]="formGroupFixedFee.invalid || formGroupDeposit.invalid" (click)="onSubmit()">{{'Common.Save' | translate}}</button>
          </div>
        </div>
      </div>
    </div>
  </form>

  <div class="content-action">
    <div class="title">{{'Clients.Turnover&GGRCommission' | translate}}</div>
  </div>

  <div class="grid-content">
    <ag-grid-angular
    id="turnover-commition"
    #agGrid
    class="ag-theme-balham"
    [headerHeight]="33"
    [rowHeight]="42"
    [rowData]="rowData"
    [enableGroupEdit] = "true"
    [autoGroupColumnDef]="autoGroupColumnDef"
    [rowModelType]="rowModelType"
    [columnDefs]="columnDefs"
    [defaultColDef]="defaultColDef"    
    [treeData]="true"
    [animateRows]="true"
    [isServerSideGroup]="isServerSideGroup"
    [getServerSideGroupKey]="getServerSideGroupKey"
    (gridReady)="onGridReady($event)"
    [ensureDomOrder]="true"
    [getContextMenuItems]="getContextMenuItems"
    [enableCellTextSelection]="true">
    </ag-grid-angular>
  </div>
</div>
