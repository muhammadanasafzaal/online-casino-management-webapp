<div class="container">
  <div class="content-action">
    <div class="title"><a [routerLink]="['../../../all-clients']">{{'Clients.Clients' | translate}}</a> / {{clientId}}
      :{{'Clients.Main' | translate}}</div>
    <button mat-stroked-button class="edit-btn" (click)="isEdit = true">{{'Common.Edit' | translate}}</button>
  </div>

  <div class="content-edit">
    <form class="grid-edit" [class.can-edit]="isEdit" [formGroup]="formGroup">
      <div>
        <div class="first-hand">{{'Common.Id' | translate}}</div>
        <div class="second-hand">{{client?.Id}}</div>
        <div class="form-field form-input">
          <input matInput [formControlName]="'Id'" readonly>
        </div>
      </div>
      <div>
        <div class="first-hand">{{'Partners.PartnerName' | translate}}</div>
        <div class="second-hand">{{client?.PartnerName}}</div>
        <div class="form-field form-input">
          <input matInput [formControlName]="'PartnerName'" readonly>
        </div>
      </div>
      <div>
        <div class="first-hand">{{'Clients.BuildingNumber' | translate}}</div>
        <div class="second-hand">{{client?.BuildingNumber}}</div>
        <div class="form-field form-input">
          <input matInput [formControlName]="'BuildingNumber'">
        </div>
      </div>
      <div>
        <div class="first-hand">{{'Clients.UserName' | translate}}</div>
        <div class="second-hand">{{client?.UserName}}</div>
        <div class="form-field form-input">
          <input matInput [formControlName]="'UserName'" readonly>
        </div>
      </div>
      <div>
        <div class="first-hand">{{'Clients.FirstName' | translate}}</div>
        <div class="second-hand">{{client?.FirstName}}</div>
        <div class="form-field form-input">
          <input matInput [formControlName]="'FirstName'">
        </div>
      </div>
      <div>
        <div class="first-hand">{{'Clients.MobileNumber' | translate}}</div>
        <div class="second-hand">{{client?.MobileNumber}}</div>
        <div class="form-field form-input">
          <input matInput [formControlName]="'MobileNumber'">
        </div>
      </div>
      <div>
        <div class="first-hand">{{'Clients.LastName' | translate}}</div>
        <div class="second-hand">{{client?.LastName}}</div>
        <div class="form-field form-input">
          <input matInput [formControlName]="'LastName'">
        </div>
      </div>
      <div>
        <div class="first-hand">{{'Clients.PhoneNumber' | translate}}</div>
        <div class="second-hand">{{client?.PhoneNumber}}</div>
        <div class="form-field form-input">
          <input matInput [formControlName]="'PhoneNumber'">
        </div>
      </div>
      <div>
        <div class="first-hand">{{'Clients.Email' | translate}}</div>
        <div class="second-hand">{{client?.Email}}</div>
        <div class="form-field form-input">
          <input matInput [formControlName]="'Email'">
        </div>
      </div>
      <div>
        <div class="first-hand">{{'Clients.SecondName' | translate}}</div>
        <div class="second-hand">{{client?.SecondName}}</div>
        <div class="form-field form-input">
          <input matInput [formControlName]="'SecondName'">
        </div>
      </div>
      <div>
        <div class="first-hand">{{'Clients.Language' | translate}}</div>
        <div class="second-hand">{{client?.LanguageName}}</div>
        <div class="form-field form-dropdown">
          <mat-select [formControlName]="'LanguageId'">
            @for (language of commonDataService.languages; track $index) {
              <mat-option
                [value]="language.Id">{{language.Name}}
              </mat-option>
            }
          </mat-select>
        </div>
      </div>
      <div>
        <div class="first-hand">{{'Clients.SecondSurname' | translate}}</div>
        <div class="second-hand">{{client?.SecondSurname}}</div>
        <div class="form-field form-input">
          <input matInput [formControlName]="'SecondSurname'">
        </div>
      </div>
      <!-- <div>
        <div class="first-hand">{{'Clients.PromoCode' | translate}}</div>
        <div class="second-hand">{{client?.PromoCode}}</div>
        <div class="form-field form-input">
          <mat-form-field>
            <input matInput [formControlName]="'PromoCode'" readonly>
           </mat-form-field> 
        </div>
      </div> -->
      <div>
        <div class="first-hand">{{'Common.Gender' | translate}}</div>
        <div class="second-hand">{{client?.GenderName}}</div>
        <div class="form-field form-dropdown">
          <mat-select [formControlName]="'Gender'">
            @for (gender of commonDataService.genders; track $index) {
              <mat-option
                [value]="gender.Id">{{gender.Name}}
              </mat-option>
            }
          </mat-select>
        </div>
      </div>
      <div>
        <div class="first-hand">{{'Clients.ZipCode' | translate}}</div>
        <div class="second-hand">{{client?.ZipCode}}</div>
        <div class="form-field form-input">
          <input matInput [formControlName]="'ZipCode'">
        </div>
      </div>
      <div>
        <div class="first-hand">{{'Clients.Currency' | translate}}</div>
        <div class="second-hand">{{client?.CurrencyId}}</div>
        <div class="form-field form-input">
          <input matInput [formControlName]="'CurrencyId'" readonly>
        </div>
      </div>
      <div>
        <div class="first-hand">{{'Clients.Country' | translate}}</div>
        <div class="second-hand">{{client?.CountryName}}</div>
        <div class="form-field form-dropdown">
          <mat-select [formControlName]="'CountryId'" (selectionChange)="onCountryChange($event)">
            @for (country of countries; track $index) {
              <mat-option [value]="country.Id">{{country.Name}}</mat-option>
            }
          </mat-select>
        </div>
      </div>
      <div>
        <div class="first-hand">{{'Clients.District' | translate}}</div>
        <div class="second-hand">{{this.districtName}}</div>
        <div class="form-field form-dropdown">
          <mat-select [formControlName]="'DistrictId'" (selectionChange)="onDistrictChange($event)">
            @for (district of districtes; track $index) {
              <mat-option [value]="district.Id">{{district.Name}}</mat-option>
            }
          </mat-select>
        </div>
      </div>
      <div>
        <div class="first-hand">{{'Clients.City' | translate}}</div>
        <div class="second-hand">{{client?.CityName}}</div>
        <div class="form-field form-dropdown">
          <mat-select [formControlName]="'CityId'" (selectionChange)="onCityChange($event)">
            @for (city of cities; track $index) {
              <mat-option [value]="city.Id">{{city.Name}}</mat-option>
            }
          </mat-select>
        </div>
      </div>
      <div>
        <div class="first-hand">{{'Clients.Address' | translate}}</div>
        <div class="second-hand">{{client?.Address}}</div>
        <div class="form-field form-input">
          <input matInput [formControlName]="'Address'">
        </div>
      </div>
      <div>
        <div class="first-hand">{{'Clients.Apartment' | translate}}</div>
        <div class="second-hand">{{client?.Apartment}}</div>
        <div class="form-field form-input">
          <input matInput [formControlName]="'Apartment'">
        </div>
      </div>
      <div>
        <div class="first-hand">{{'Clients.CityText' | translate}}</div>
        <div class="second-hand">{{client?.City}}</div>
        <div class="form-field form-input">
          <input matInput [formControlName]="'City'">
        </div>
      </div>
      <div>
        <div class="first-hand">{{'Clients.IssuedBy' | translate}}</div>
        <div class="second-hand">{{client?.DocumentIssuedBy}}</div>
        <div class="form-field form-input">
          <input matInput [formControlName]="'DocumentIssuedBy'">
        </div>
      </div>
      <div>
        <div class="first-hand">{{'Clients.BirthDate' | translate}}</div>
        <div class="second-hand">{{client?.BirthDate | date:'dd/MM/yyyy'}}</div>
        <div class="form-field form-calendar form-calendar-edit">
          <input matInput [matDatepicker]="picker" [formControlName]="'BirthDate'">
          <mat-datepicker-toggle matSuffix [for]="picker">
            <div matDatepickerToggleIcon class="icon-calendar" aria-hidden="true"></div>
          </mat-datepicker-toggle>
          <mat-datepicker #picker></mat-datepicker>
        </div>
      </div>
      <div>
        <div class="first-hand">{{'Clients.DocumentNumber' | translate}}</div>
        <div class="second-hand">{{client?.DocumentNumber}}</div>
        <div class="form-field form-input">
          <input matInput [formControlName]="'DocumentNumber'">
        </div>
      </div>
      <div>
        <div class="first-hand">{{'Clients.CreationTime' | translate}}</div>
        <div class="second-hand">{{client?.CreationTime | date:'dd/MM/yyyy HH:MM'}}</div>
        <div class="form-field form-input">
          <input matInput [formControlName]="'CreationTime'">
        </div>
      </div>
      <div>
        <div class="first-hand">{{'Clients.DocumentVerified' | translate}}</div>
        <div class="second-hand">{{client?.IsDocumentVerified}}</div>
        <div class="form-field form-checkbox">
          <mat-checkbox [formControlName]="'IsDocumentVerified'">{{'Clients.IsDocumentVerified' |
            translate}}</mat-checkbox>
        </div>
      </div>
      <div>
        <div class="first-hand">{{'Clients.EmailVerified' | translate}}</div>
        <div class="second-hand">{{client?.IsEmailVerified}}</div>
        <div class="form-field form-checkbox">
          <mat-checkbox [formControlName]="'IsEmailVerified'">{{'Clients.IsEmailVerified' | translate}}</mat-checkbox>
        </div>
      </div>
      <div>
        <div class="first-hand">{{'Clients.DocumentType' | translate}}</div>
        <div class="second-hand">{{client?.DocumentType}}</div>
        <div class="form-field form-dropdown">
          <mat-select [formControlName]="'DocumentType'">
            @for (docType of commonDataService.documentTypes; track $index) {
              <mat-option
                [value]="docType.Id">{{docType.Name}}
              </mat-option>
            }
          </mat-select>
        </div>
      </div>
      <div>
        <div class="first-hand">{{'Clients.SendMail' | translate}}</div>
        <div class="second-hand">{{client?.SendMail}}</div>
        <div class="form-field form-checkbox">
          <mat-checkbox [formControlName]="'SendMail'">{{'Clients.SendMail' | translate}}</mat-checkbox>
        </div>
      </div>
      <div>
        <div class="first-hand">{{'Common.State' | translate}}</div>
        <div class="second-hand">{{client?.StateName}}</div>
        <div class="form-field form-dropdown">
          <mat-select [formControlName]="'State'">
            @for (state of clientStates; track $index) {
              <mat-option  [value]="state.Id">{{state.Name}}</mat-option>
            }
          </mat-select>
        </div>
      </div>
      <div>
        <div class="first-hand">{{'Clients.SendSms' | translate}}</div>
        <div class="second-hand">{{client?.SendSms}}</div>
        <div class="form-field form-checkbox">
          <mat-checkbox [formControlName]="'SendSms'">{{'Clients.SendSms' | translate}}</mat-checkbox>
        </div>
      </div>
      <div>
        <div class="first-hand">{{'Common.Info' | translate}}</div>
        <div class="second-hand">{{client?.Info}}</div>
        <div class="form-field form-input">
          <input matInput [formControlName]="'Info'">
        </div>
      </div>
      <div>
        <div class="first-hand">{{'Clients.SendPromotions' | translate}}</div>
        <div class="second-hand">{{client?.SendPromotions}}</div>
        <div class="form-field form-checkbox">
          <mat-checkbox [formControlName]="'SendPromotions'">{{'Clients.SendPromotions' | translate}}</mat-checkbox>
        </div>
      </div>
      <div>
        <div class="first-hand">{{'Clients.AffiliatePlatformId' | translate}}</div>
        <div class="second-hand">{{client?.AffiliatePlatformId}}</div>
        <div class="form-field form-input">
          <input matInput [formControlName]="'AffiliatePlatformId'">
        </div>
      </div>
      <div>
        <div class="first-hand">{{'Clients.AffiliateId' | translate}}</div>
        <div class="second-hand">{{client?.AffiliateId}}</div>
        <div class="form-field form-input">
          <input matInput [formControlName]="'AffiliateId'">
        </div>
      </div>
      <div>
        <div class="first-hand">{{'Clients.RefId' | translate}}</div>
        <div class="second-hand">{{client?.RefId}}</div>
        <div class="form-field form-input">
          <input matInput [formControlName]="'RefId'">
        </div>
      </div>
      <div>
        <div class="first-hand">{{'Clients.ReceivePhoneCalls' | translate}}</div>
        <div class="second-hand">{{client?.CallToPhone}}</div>
        <div class="form-field form-checkbox">
          <mat-checkbox [formControlName]="'CallToPhone'">{{'Clients.CallToPhone' | translate}}</mat-checkbox>
        </div>
      </div>
      <div>
        <div class="first-hand">{{'Clients.BetShopId' | translate}}</div>
        <div class="second-hand">{{client?.BetShopId}}</div>
        <div class="form-field form-input">
          <input matInput [formControlName]="'BetShopId'">
        </div>
      </div>
      <div>
        <div class="first-hand">{{'Clients.MobileNumberVerified' | translate}}</div>
        <div class="second-hand">{{client?.IsMobileNumberVerified}}</div>
        <div class="form-field form-checkbox">
          <mat-checkbox [formControlName]="'IsMobileNumberVerified'">{{'Clients.IsMobileNumberVerified' |
            translate}}</mat-checkbox>
        </div>
      </div>
      <div>
        <div class="first-hand">{{'Clients.JobArea' | translate}}</div>
        <div class="second-hand">{{client?.JobArea}}</div>
        <div class="form-field form-dropdown">
          <mat-select [formControlName]="'JobArea'">
            @for (jobArea of jobAreas; track $index) {
              <mat-option [value]="jobArea.Id">{{jobArea.NickName}}</mat-option>
            }
          </mat-select>
        </div>
      </div>
      <div>
        <div class="first-hand">{{'Clients.CategoryName' | translate}}</div>
        <div class="second-hand">{{client?.CategoryName}}</div>
        <div class="form-field form-dropdown">
          <mat-select [formControlName]="'CategoryId'">
            @for (category of clientCategories; track $index) {
              <mat-option [value]="category.Id">{{category.Name}}</mat-option>
            }
          </mat-select>
        </div>
      </div>
      <div>
        <div class="first-hand">{{'Clients.Citizenship' | translate}}</div>
        <div class="second-hand">{{client?.CitizenshipName}}</div>
        <div class="form-field form-dropdown">
          <mat-select [formControlName]="'Citizenship'">
            @for (country of countries; track $index) {
              <mat-option [value]="country.Id">{{country.Name}}</mat-option>
            }
          </mat-select>
        </div>
      </div>
      <div>
        <div class="first-hand">{{'Clients.NickName' | translate}}</div>
        <div class="second-hand">{{client?.NickName}}</div>
        <div class="form-field form-input">
          <input matInput [formControlName]="'NickName'">
        </div>
      </div>
      <div>
        <div class="first-hand">{{'Clients.AgentId' | translate}}</div>
        <div class="second-hand">{{client?.UserId}}</div>
        <div class="form-field form-input">
          <input matInput [formControlName]="'UserId'">
        </div>
      </div>
      <div>
        <div class="first-hand">{{'Payments.LastDepositDate' | translate}}</div>
        <div class="second-hand">{{client?.LastDepositDate}}</div>
        <div class="form-field form-input">
          <input matInput [formControlName]="'LastDepositDate'" readonly>
        </div>
      </div>
      <div>
        <div class="first-hand">{{'Common.Age' | translate}}</div>
        <div class="second-hand">{{client?.Age}}</div>
        <div class="form-field form-input">
          <input matInput [formControlName]="'Age'" readonly>
        </div>
      </div>

      <div>
        <div class="first-hand">{{'Clients.UnderMonitoringTypes' | translate}}</div>
        <div class="second-hand">{{client?.UnderMonitoringTypesNames}}</div>
        <div class="form-field form-input">
          <input matInput [value]="client?.UnderMonitoringTypesNames" readonly>
        </div>
      </div>

      <div>
        <div class="first-hand">{{'Clients.CharacterName' | translate}}</div>
        <div class="second-hand">{{client?.CharacterName}}</div>
        <div class="form-field form-input">
          <input matInput formControlName="CharacterName">
        </div>
      </div>

      <div>
        <div class="first-hand">{{'Clients.CharacterId' | translate}}</div>
        <div class="second-hand">{{client?.CharacterId}}</div>
        <div class="form-field form-input">
          <input matInput formControlName="CharacterId">
        </div>
      </div>

      <div>
        <div class="first-hand">{{'Clients.CharacterLevel' | translate}}</div>
        <div class="second-hand">{{client?.CharacterLevel}}</div>
        <div class="form-field form-input">
          <input matInput formControlName="CharacterLevel">
        </div>
      </div>

      <div>
        <div class="first-hand">{{'Clients.ReferralType' | translate}}</div>
        <div class="second-hand">{{client?.ReferralType}}</div>
        <div class="form-field form-dropdown">
          <mat-select [formControlName]="'ReferralType'">
            @for (referralType of referralTypes; track $index) {
              <mat-option 
                [value]="referralType.Id">{{referralType.Name}}
              </mat-option>
            }
          </mat-select>
        </div>

      </div>
      <div>
        <div class="first-hand">{{'Clients.USSDPin' | translate}}</div>
        <div class="second-hand" *ngIf="client?.USSDPin; else ''">********</div>
        <div class="form-field form-input">
          <input [formControlName]="'USSDPin'" matInput [value]="client?.USSDPin ? client.USSDPin : ''">
        </div>
      </div>

      <div class="pin-code-field">
        <div class="first-hand">{{'Clients.PinCode' | translate}}</div>
        <div class="static-hand">{{client?.PinCode}}</div>

        <button mat-stroked-button class="mat-btn"  type="button" (click)="onResetClientPinCode()">{{'Clients.ResetPinCode'
          |translate}}
        </button>
      </div>


      <div></div>
      <div></div>
      <div class="form-actions">
        <div class="actions">
          <button mat-stroked-button class="mat-btn" (click)="changePassword()">{{'Clients.ChangePassword' |
            translate}}</button>
          <button mat-stroked-button class="mat-btn" (click)="sendMailToPlayer()">{{'Clients.SendMailToPlayer' |
            translate}}</button>
        </div>

        @if(isEdit) {
          <div class="actions">
            <button mat-stroked-button class="mat-cancel-btn" (click)="cancel()">{{'Common.Cancel' | translate}}</button>
            <button mat-stroked-button class="mat-btn" [class.disabled]="!isSaveActive" type="submit"
              (click)="onSubmit()">{{'Common.Save' | translate}}</button>
          </div>
        }
      </div>

    </form>
  </div>

  <div class="content-action">
    <div class="title">{{'Clients.AccountTypes' | translate}}</div>
  </div>

  <app-account-types-table></app-account-types-table>

  <div class="content-action">
    <div class="title">{{'Common.History' | translate}}</div>
  </div>

  <div class="grid-content">
    <ag-grid-angular #agGrid class="ag-theme-balham" [headerHeight]="33" [rowHeight]="42" [rowData]="rowData"
      [suppressCopyRowsToClipboard]="true" [rowModelType]="rowModelType" [columnDefs]="columnDefs"
      [defaultColDef]="defaultColDef" [cacheBlockSize]="cacheBlockSize" (gridReady)="onGridReady($event)"
      [ensureDomOrder]="true" [enableCellTextSelection]="true" [getContextMenuItems]="getContextMenuItems"
      rowSelection="single">
    </ag-grid-angular>
  </div>

</div>